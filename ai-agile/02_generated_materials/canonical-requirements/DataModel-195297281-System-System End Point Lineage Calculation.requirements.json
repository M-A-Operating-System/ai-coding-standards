{
  "schemaVersion": "1.0",
  "sourceDocument": {
    "sourceRoot": "SourceMaterial",
    "relativePath": "confluence/DataModel-195297281-System-System End Point Lineage Calculation.xhtml",
    "sourceType": "confluence-xhtml",
    "title": "System-System End Point Lineage Calculation",
    "retrievedAt": "2026-02-03T18:25:25.521006",
    "confluence": {
      "pageId": "195297281",
      "space": "DataModel",
      "version": 33,
      "url": "https://maoperatingsystem.atlassian.net/spaces/DataModel/pages/195297281/System-System+End+Point+Lineage+Calculation"
    }
  },
  "requirements": [
    {
      "id": "REQ0000001",
      "kind": "Fact",
      "classification": { "primary": "Business", "tags": ["DocumentPurpose", "DocumentOverview"] },
      "brdSectionId": "BRD-01",
      "statement": "This document provides a high-level approach for calculating “lineage complete” based on a minimal amount of lineage map information and describes an algorithm for traversing the tree backwards and forwards.",
      "references": [
        {
          "sourceRoot": "SourceMaterial",
          "relativePath": "confluence/DataModel-195297281-System-System End Point Lineage Calculation.xhtml",
          "locator": {
            "headingPath": ["About this Document"],
            "textFingerprint": "fingerprint:v1:This quick one-pager provides a high-level approach for calculating"
          },
          "quote": "This quick one-pager provides a high-level approach for calculating \"lineage complete\" based on a minimal amount of information about the elements within a lineage map."
        }
      ]
    },
    {
      "id": "REQ0000002",
      "kind": "Constraint",
      "classification": { "primary": "Architecture", "tags": ["Policy", "OutOfScope"] },
      "brdSectionId": "BRD-03",
      "statement": "The document does not establish a definition of “Authorised Source”; that definition is specific to organizational data governance policy.",
      "references": [
        {
          "sourceRoot": "SourceMaterial",
          "relativePath": "confluence/DataModel-195297281-System-System End Point Lineage Calculation.xhtml",
          "locator": {
            "headingPath": ["About this Document"],
            "textFingerprint": "fingerprint:v1:Note: This document does not establish a definition of"
          },
          "quote": "Note: This document does not establish a definition of \"Authorised Source\" which is specific to individual organisations' data governance policy"
        }
      ]
    },
    {
      "id": "REQ0000003",
      "kind": "Assumption",
      "classification": { "primary": "Architecture", "tags": ["Scope", "Lineage"] },
      "brdSectionId": "BRD-03",
      "statement": "All definitions and calculations refer to attributes and tech-based lineage and do not account for context-based lineage.",
      "references": [
        {
          "sourceRoot": "SourceMaterial",
          "relativePath": "confluence/DataModel-195297281-System-System End Point Lineage Calculation.xhtml",
          "locator": {
            "headingPath": ["Physical End Point Lineage Calculation", "Assumptions"],
            "textFingerprint": "fingerprint:v1:All the following refers to attributes and lineage typically provided"
          },
          "quote": "All the following refers to attributes and lineage typically provided by tech-based lineage work."
        },
        {
          "sourceRoot": "SourceMaterial",
          "relativePath": "confluence/DataModel-195297281-System-System End Point Lineage Calculation.xhtml",
          "locator": {
            "headingPath": ["Physical End Point Lineage Calculation", "Assumptions"],
            "textFingerprint": "fingerprint:v1:This document does not attempt to account for"
          },
          "quote": "This document does not attempt to account for \"context-based lineage\" and provides a worked example for a single lineage tree."
        }
      ]
    },
    {
      "id": "REQ0000004",
      "kind": "Definition",
      "classification": { "primary": "Architecture", "tags": ["Lineage", "EPV"] },
      "brdSectionId": "BRD-04",
      "statement": "End Point Value (EPV) is an attribute in the lineage that represents the end of the combined physical lineage as the desired business outcome.",
      "references": [
        {
          "sourceRoot": "SourceMaterial",
          "relativePath": "confluence/DataModel-195297281-System-System End Point Lineage Calculation.xhtml",
          "locator": {
            "headingPath": ["Physical End Point Lineage Calculation", "Assumptions"],
            "textFingerprint": "fingerprint:v1:End Point Value (EPV) - an attribute in the lineage"
          },
          "quote": "End Point Value (EPV) - an attribute in the lineage that represents the \"end\u201d of the combined physical lineage as the desired business outcome"
        }
      ]
    },
    {
      "id": "REQ0000005",
      "kind": "Definition",
      "classification": { "primary": "Architecture", "tags": ["Lineage", "AS"] },
      "brdSectionId": "BRD-04",
      "statement": "Authoritative Source (AS) is an attribute representing the start of a physical lineage path that has been confirmed as an official source, requiring no further decomposition.",
      "references": [
        {
          "sourceRoot": "SourceMaterial",
          "relativePath": "confluence/DataModel-195297281-System-System End Point Lineage Calculation.xhtml",
          "locator": {
            "headingPath": ["Physical End Point Lineage Calculation", "Assumptions"],
            "textFingerprint": "fingerprint:v1:Authoritative Source (AS) - an attribute in the lineage"
          },
          "quote": "Authoritative Source (AS) - an attribute in the lineage that represents the \"start\u201d of a physical lineage path and has been confirmed as an official source.  No further decomposition is needed."
        }
      ]
    },
    {
      "id": "REQ0000006",
      "kind": "Definition",
      "classification": { "primary": "Architecture", "tags": ["Lineage", "Status"] },
      "brdSectionId": "BRD-04",
      "statement": "Each node must have a Status classification such as EPV, AS, Complete (COM), or Unknown (XX).",
      "references": [
        {
          "sourceRoot": "SourceMaterial",
          "relativePath": "confluence/DataModel-195297281-System-System End Point Lineage Calculation.xhtml",
          "locator": {
            "headingPath": ["Physical End Point Lineage Calculation", "Calculations"],
            "textFingerprint": "fingerprint:v1:Status - this is the classification of the node"
          },
          "quote": "Status - this is the classification of the node  - ie, EPV vs AS vs Complete (COM) vs Unknown (XX)"
        }
      ]
    },
    {
      "id": "REQ0000007",
      "kind": "Definition",
      "classification": { "primary": "Architecture", "tags": ["Lineage", "BackDepth"] },
      "brdSectionId": "BRD-04",
      "statement": "Backward depth from EPV sequences completeness roll-up; EPVs have backdepth=0 and backward depth is the minimum depth of downstream nodes plus 1, calculated per endpoint.",
      "references": [
        {
          "sourceRoot": "SourceMaterial",
          "relativePath": "confluence/DataModel-195297281-System-System End Point Lineage Calculation.xhtml",
          "locator": {
            "headingPath": ["Physical End Point Lineage Calculation", "Calculations"],
            "textFingerprint": "fingerprint:v1:By definition, EPVs have backdepth=0"
          },
          "quote": "By definition, EPVs have backdepth=0.  Backward Depth is the minimum depth of all downstream nodes, plus 1."
        }
      ]
    },
    {
      "id": "REQ0000008",
      "kind": "Definition",
      "classification": { "primary": "Architecture", "tags": ["Lineage", "ForwardDepth"] },
      "brdSectionId": "BRD-04",
      "statement": "Forward depth from AS is the maximum hops from authoritative sources plus 1; authoritative sources have fordepth=0.",
      "references": [
        {
          "sourceRoot": "SourceMaterial",
          "relativePath": "confluence/DataModel-195297281-System-System End Point Lineage Calculation.xhtml",
          "locator": {
            "headingPath": ["Physical End Point Lineage Calculation", "Calculations"],
            "textFingerprint": "fingerprint:v1:By definition, nodes identified as an Authoritative source"
          },
          "quote": "By definition, nodes identified as an Authoritative source have a fordepth=0.  Forward Depth is the maximum depth of hops to get to this point from all authoritative data sources, plus 1."
        }
      ]
    },
    {
      "id": "REQ0000009",
      "kind": "Definition",
      "classification": { "primary": "Architecture", "tags": ["Lineage", "Score"] },
      "brdSectionId": "BRD-04",
      "statement": "Node Score represents the current completeness of a node based on the average completeness of upstream nodes; AS nodes score 100%, nodes without lineage score 0%, and partial branches score between 0% and 100%.",
      "references": [
        {
          "sourceRoot": "SourceMaterial",
          "relativePath": "confluence/DataModel-195297281-System-System End Point Lineage Calculation.xhtml",
          "locator": {
            "headingPath": ["Physical End Point Lineage Calculation", "Calculations"],
            "textFingerprint": "fingerprint:v1:Score - this is the current"
          },
          "quote": "Score - this is the current \"completeness\u201d of a node within the tree based on the average completeness of its upstream nodes.  (left to right)"
        }
      ]
    },
    {
      "id": "REQ0000010",
      "kind": "Requirement",
      "classification": { "primary": "Functional", "tags": ["Algorithm"] },
      "brdSectionId": "BRD-06",
      "statement": "The algorithm must calculate node depth by working backwards from EPVs and then calculate node score by working forwards toward EPVs.",
      "references": [
        {
          "sourceRoot": "SourceMaterial",
          "relativePath": "confluence/DataModel-195297281-System-System End Point Lineage Calculation.xhtml",
          "locator": {
            "headingPath": ["Algorithm", "Step #1 - Work \"backwards\" away from the EPVs to calculate the depth of each node"],
            "textFingerprint": "fingerprint:v1:Step #1 - Work"
          },
          "quote": "Step #1 - Work \u201cbackwards\u201d away from the EPVs to calculate the depth of each node"
        },
        {
          "sourceRoot": "SourceMaterial",
          "relativePath": "confluence/DataModel-195297281-System-System End Point Lineage Calculation.xhtml",
          "locator": {
            "headingPath": ["Algorithm", "Step #2 - Work \"Forwards\" through the path towards the EPVs to calculate the score for each node"],
            "textFingerprint": "fingerprint:v1:Step #2 - Work"
          },
          "quote": "Step #2 - Work \u201cForwards\u201d through the path towards the EPVs to calculate the score for each node"
        }
      ]
    }
  ]
}
